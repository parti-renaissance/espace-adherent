<script type="text/javascript">
    Kernel.onLoad(function() {
        App.runManagedList(
            [
                {
                    key: 'lastName',
                    name: 'Nom',
                    sortable: true,
                },
                {
                    key: 'firstName',
                    name: 'Prénom',
                },
                {
                    key: 'gender',
                    name: 'Genre',
                },
                {
                    key: 'phone',
                    name: 'Téléphone',
                },
                {
                    key: 'favoriteCities',
                    name: 'Ville(s) choisie(s)',
                },
                {
                    key: 'createdAt',
                    name: 'Ajouté le',
                    sortable: true,
                },
                {
                    key: 'isAdherent',
                    name: 'Adhérent ?',
                },
                {
                    key: 'menu',
                    name: 'Actions',
                    menu: true,
                },
            ],
            [
                {% for request in requests %}
                    {% set menu = [
                        {
                            label: 'Plus d\'infos',
                            url: path("app_referent_candidate_#{request_type}_detail", {uuid: request.uuid})
                        }
                    ] %}

                    {% include "application_request/space/_application_request_row.js.twig" with { menu: menu } %},
                {% endfor %}
            ]
        );
    });
</script>
