{% extends '@SonataAdmin/CRUD/base_list_field.html.twig' %}

{% block field %}
    {% if not object.isClosed %}
        <div style="width: 160px">
            {% if not object.isApproved %}
                <a href="{{ path('admin_app_committee_approve', { id: object.id }) }}" class="btn btn-xs btn-default" title="Approuver">
                    <i class="fa fa-check" aria-hidden="true"></i>
                    Approuver
                </a>
            {% endif %}

            {% if not object.isRefused %}
                <a href="{{ path('app_admin_committee_refuse', { id: object.id }) }}" class="btn btn-xs btn-default view_link" title="Refuser">
                    <i class="fa fa-ban" aria-hidden="true"></i>
                    Refuser
                </a>
            {% endif %}
        </div>
    {% endif %}

    <div style="width: 160px; margin-top: 5px;">
        {% if not object.isClosed %}
            <a href="{{ path('admin_app_committee_edit', { id: object.id }) }}" class="btn btn-xs btn-default" title="Éditer">
                <i class="fa fa-pencil" aria-hidden="true"></i>
                Éditer
            </a>
        {% endif %}

        <a href="{{ path('app_admin_committee_members', { id: object.id }) }}" class="btn btn-xs btn-default" title="Membres">
            <i class="fa fa-users" aria-hidden="true"></i>
            Membres
        </a>

        <a href="{{ path('app_admin_committee_mandates', { id: object.id }) }}" class="btn btn-xs btn-default" title="Mandats">
            <i class="fa fa-id-badge" aria-hidden="true"></i>
            Mandats
        </a>
    </div>

    {% if object.isApproved %}
        <div style="width: 160px; margin-top: 5px;">
            <a href="{{ path('app_committee_show', { slug: object.slug }) }}"
               class="btn btn-xs btn-default" title="Voir sur le site" target="_blank">
                <i class="fa fa-eye" aria-hidden="true"></i>
                Voir sur le site
            </a>
        </div>
    {% endif %}
{% endblock %}
