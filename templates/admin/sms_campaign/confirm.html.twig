{% extends base_template %}

{% block show %}
    <div class="sonata-ba-view">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-default">
                    <div class="box-header">
                        <h4 class="box-title">
                            Envoi de campagne SMS : <strong>{{ admin.toString(object) }}</strong>
                        </h4>
                    </div>

                    <div class="box-body">
                        {% if not object.getRecipientCount() %}
                            <div class="alert alert-error">Aucun contact trouvé pour cette campagne</div>
                        {% endif %}

                        <h4 class="text-bold">Contenu :</h4>
                        <div><pre>{{ object.getContent() }}</pre></div>
                        <h4 class="text-bold">Audience :</h4>
                        <p>{{ object.getAudience() }}</p>
                        <p>Nombre de contacts trouvés : {% include 'admin/sms_campaign/CRUD/_recipient_count.html.twig' %}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="sonata-ba-form-actions well well-small form-actions">
                    <a href="{{ admin.generateObjectUrl('edit', object, actions.link_parameters|default([])) }}" class="btn btn-default">
                        <i class="fa fa-edit" aria-hidden="true"></i> Modifier
                    </a>

                    {% if object.getRecipientCount() > 0 %}
                        <a href="{{ admin.generateObjectUrl('send', object, actions.link_parameters|default([])) }}" class="btn btn-success">
                            <i class="fa fa-send" aria-hidden="true"></i> Envoyer
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
