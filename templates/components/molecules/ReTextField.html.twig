{# src/Twig/components/molecules/ReTextField.php #}

{% set attr = attributes.all() %}


<div {{ attributes.only('class') }}
        x-data="xValidateField({
            status: '{{ status is defined ? status : 'default' }}',
            message: '{{ message is defined ? message : '' }}',
            validate: {{ validate is defined ? validate : '[]' }},
            onCheck: {{ onCheck is defined ? onCheck : '()=>{}' }}
        })"
        {% if attr.id is defined %}
            @x-validate:{{ attr.id }}.window="setData($event.detail)"
        {% endif %}
>
    <div class="relative flex-col flex justify-center mb-2.5">
        <input
                {{ attributes.without('class') }}
                x-bind="validateField"
                class="re-field-frame !ring-0 !flex {{ disabled is defined  ? 'disabled' }} {{ (status is defined ? ' re-field-frame--' ~ status) }}"
                :class="status !== 'default' ? 're-field-frame--' + status + ' !pr-12' : ''"
        />
        <twig:Atoms:ReIcon x-show="status !== 'default'"
                           xSyncType="status"
                           class="flex absolute self-end pr-4 pointer-events-none"/>
    </div>
    <twig:Atoms:ReTextStatus x-show="status !== 'default' && message"
                             value="{{ message is defined ? '' }}"
                             xSyncStatus="status"
                             x-text="message"/>
</div>
