<?xml version="1.0" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <services>
        <defaults autowire="true" autoconfigure="true"/>

        <service id="App\Admin\AdministratorFactory" />
        <service id="App\Admin\AdministratorRoleHistoryHandler" />

        <service id="Sonata\DoctrineORMAdminBundle\Filter\CallbackFilter" alias="sonata.admin.orm.filter.type.callback" />

        <prototype namespace="App\Admin\Filter\" resource="../../src/Admin/Filter">
            <tag name="sonata.admin.filter.type" />
        </prototype>

        <service id="App\Admin\Exporter\IteratorCallbackDataSource" />

        <service id="App\Admin\Exporter\DataSourceDecorator" decorates="sonata.admin.data_source.orm">
            <argument type="service" id="App\Admin\Exporter\DataSourceDecorator.inner" />
        </service>

        <!--
        ######################################################
        # Adhérents
        ######################################################
        -->

        <service id="app.admin.adherent" class="App\Admin\AdherentAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Adhérents" group="Adhérents" default="true" />

            <argument />
            <argument>App\Entity\Adherent</argument>
            <argument>App\Controller\Admin\AdminAdherentCRUDController</argument>
            <argument type="service" id="event_dispatcher"/>
        </service>

        <service id="app.admin.app_session" class="App\Admin\AppSessionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Sessions" group="Adhérents" model_class="App\Entity\AppSession" />
        </service>

        <service id="app.admin.unregistration" class="App\Admin\UnregistrationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Désadhésions/exclusions" group="Adhérents" />

            <argument />
            <argument>App\Entity\Unregistration</argument>
            <argument />
            <call method="setTemplate">
                <argument>list</argument>
                <argument>admin/adherent/unregistration_list.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.certification_request" class="App\Admin\CertificationRequestAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Demandes de certification" group="Adhérents" />

            <argument />
            <argument>App\Entity\CertificationRequest</argument>
            <argument>App\Controller\Admin\AdminCertificationRequestController</argument>

            <call method="setTemplate">
                <argument>show</argument>
                <argument>admin/certification_request/show.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.reporting.adherent_certification_history" class="App\Admin\Reporting\AdherentCertificationHistoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Historique de certification" group="Adhérents" />

            <argument />
            <argument>App\Entity\Reporting\AdherentCertificationHistory</argument>
            <argument />
        </service>

        <service id="app.admin.reporting.declared_mandate_history" class="App\Admin\Reporting\DeclaredMandateHistoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Historique mandats déclarés" group="Adhérents" />

            <argument />
            <argument>App\Entity\Reporting\DeclaredMandateHistory</argument>
            <argument />
        </service>

        <service id="app.admin.user_action_history" class="App\Admin\UserActionHistoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Historique adhérents" group="Adhérents" />

            <argument />
            <argument>App\Entity\UserActionHistory</argument>
            <argument />
        </service>

        <service id="app.admin.invite" class="App\Admin\InviteAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Invitations" group="Adhérents" />

            <argument />
            <argument>App\Entity\Invite</argument>
            <argument />
        </service>

        <service id="app.admin.referral" class="App\Admin\ReferralAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Parrainages" group="Adhérents" />

            <argument />
            <argument>App\Entity\Referral</argument>
            <argument />
        </service>

        <service id="app.admin.adherent_referrer" class="App\Admin\AdherentReferrerAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Parrains" group="Adhérents" />

            <argument />
            <argument>App\Entity\Adherent</argument>
            <argument />
        </service>

        <service id="app.admin.adherent_request" class="App\Admin\AdherentRequestAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Demandes d'adhésion" group="Adhérents" />

            <argument />
            <argument>App\Entity\Renaissance\Adhesion\AdherentRequest</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Communication
        ######################################################
        -->

        <service id="app.admin.cms_block" class="App\Admin\CmsBlockAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Blocs statiques" group="Communication" />

            <argument />
            <argument>App\Entity\CmsBlock</argument>
            <argument />
        </service>

        <service id="app.admin.redirection" class="App\Admin\RedirectionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Redirections" group="Communication" />

            <argument />
            <argument>App\Entity\Redirection</argument>
            <argument />
        </service>

        <service id="app.admin.newsletter_subscription" class="App\Admin\NewsletterSubscriptionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Newsletter" group="Communication" />

            <argument />
            <argument>App\Entity\NewsletterSubscription</argument>
            <argument />
        </service>

        <service id="app.admin.qr_code" class="App\Admin\QrCodeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="QR Codes" group="Communication" />

            <argument />
            <argument>App\Entity\QrCode</argument>
            <argument />
        </service>

        <service id="app.admin.chatbot_chatbot" class="App\Admin\Chatbot\ChatbotAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Chatbots" group="Communication" />

            <argument />
            <argument>App\Entity\Chatbot\Chatbot</argument>
            <argument />
        </service>

        <service id="app.admin.email_template" class="App\Admin\Email\EmailTemplateAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Modèle d'email JME" group="Communication"/>

            <argument />
            <argument>App\Entity\Email\EmailTemplate</argument>
            <argument />
            <argument type="string">%env(EMAIL_TEMPLATE_UNLAYER_TEMPLATE_ID)%</argument>
            <argument type="service" id="App\Form\DataTransformer\ScopeToCodeDataTransformer" />
        </service>

        <!--
        ######################################################
        # Événements
        ######################################################
        -->

        <service id="app.admin.national_event" class="App\Admin\NationalEvent\NationalEventAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Événements" group="Événements" />

            <argument />
            <argument>App\Entity\NationalEvent\NationalEvent</argument>
            <argument>App\Controller\Admin\AdminNationalEventCRUDController</argument>
        </service>

        <service id="app.admin.national_event_inscriptions" class="App\Admin\NationalEvent\NationalEventInscriptionsAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Inscrits" group="Événements" />

            <argument />
            <argument>App\Entity\NationalEvent\EventInscription</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Territoires
        ######################################################
        -->

        <service id="app.admin.committee" class="App\Admin\CommitteeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Comités" group="Territoires" />

            <argument />
            <argument>App\Entity\Committee</argument>
            <argument>App\Controller\Admin\AdminCommitteeCRUDController</argument>
            <argument type="service" id="doctrine.orm.entity_manager" />
            <argument type="service" id="event_dispatcher"/>

            <call method="setTemplate">
                <argument>show</argument>
                <argument>admin/committee/show.html.twig</argument>
            </call>
            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/committee/edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.live_stream" class="App\Admin\LiveStreamAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Live Stream" model_class="App\Entity\LiveStream" group="Territoires" />
        </service>

        <service id="app.admin.event" class="App\Admin\EventAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Événements" model_class="App\Entity\Event\Event" group="Territoires" />

            <call method="setTemplate">
                <argument>show</argument>
                <argument>admin/event/show.html.twig</argument>
            </call>
            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/event/edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.event_category" class="App\Admin\EventCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Catégories d'événements" group="Territoires" />

            <argument />
            <argument>App\Entity\Event\EventCategory</argument>
            <argument />
        </service>

        <service id="app.admin.event_group_category" class="App\Admin\EventGroupCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Groupe de Catégories d'événements" group="Territoires" />

            <argument />
            <argument>App\Entity\Event\EventGroupCategory</argument>
            <argument />
        </service>

        <service id="app.admin.team.team" class="App\Admin\Team\TeamAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Équipes" group="Territoires" />

            <argument />
            <argument>App\Entity\Team\Team</argument>
            <argument />
        </service>

        <service id="app.admin.team.member" class="App\Admin\Team\MemberAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false" />

            <argument />
            <argument>App\Entity\Team\Member</argument>
            <argument />
        </service>

        <service id="app.admin.reporting.team_member_history" class="App\Admin\Reporting\TeamMemberHistoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Historique des équipes" group="Territoires" />

            <argument />
            <argument>App\Entity\Reporting\TeamMemberHistory</argument>
            <argument />
        </service>

        <service id="app.admin.consultation" class="App\Admin\ConsultationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Consultations" group="Territoires"/>

            <argument />
            <argument>App\Entity\Consultation</argument>
            <argument />
        </service>

        <service id="app.admin.file" class="App\Admin\Filesystem\FileAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Documents" group="Territoires" />

            <argument />
            <argument>App\Entity\Filesystem\File</argument>
            <argument />
            <argument type="service" id="App\Repository\Filesystem\FileRepository"/>
            <argument type="service" id="App\Filesystem\FileManager"/>
        </service>

        <service id="app.admin.document" class="App\Admin\DocumentAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Documents JME" group="Territoires"/>

            <argument />
            <argument>App\Entity\Document</argument>
            <argument />
        </service>

        <service id="app.admin.general_meeting_report" class="App\Admin\GeneralMeetingReportAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Centre d'archives JME" group="Territoires"/>

            <argument />
            <argument>App\Entity\GeneralMeeting\GeneralMeetingReport</argument>
            <argument />
        </service>

        <service id="app.admin.hub_item" class="App\Admin\HubItemAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Hub candidat" group="Élections"/>

            <argument />
            <argument>App\Entity\HubItem</argument>
            <argument />
        </service>

        <service id="app.admin.report" class="App\Admin\ReportAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Signalements" group="Territoires" />

            <argument />
            <argument>App\Entity\Report\Report</argument>
            <argument />
            <argument type="service" id="App\Repository\ReportRepository" />
        </service>
        <service id="App\Admin\ReportAdmin" alias="app.admin.report" />

        <!--
        ######################################################
        # Idées
        ######################################################
        -->

        <service id="app.admin.general_convention" class="App\Admin\GeneralConventionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="États généraux" group="Idées" />

            <argument />
            <argument>App\Entity\GeneralConvention\GeneralConvention</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Mobilisation
        ######################################################
        -->

        <service id="app.admin.adherent_formation" class="App\Admin\FormationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Formations" group="Mobilisation"/>

            <argument />
            <argument>App\Entity\AdherentFormation\Formation</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/adherent_formation/edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.phoning.campaign" class="App\Admin\Phoning\CampaignAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Phoning » Campagnes" group="Mobilisation" />

            <argument />
            <argument>App\Entity\Phoning\Campaign</argument>
            <argument />
        </service>

        <service id="app.admin.phoning.campaign_history" class="App\Admin\Phoning\CampaignHistoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Phoning » Appels" group="Mobilisation" />

            <argument />
            <argument>App\Entity\Phoning\CampaignHistory</argument>
            <argument />
        </service>

        <service id="app.admin.pap.campaign" class="App\Admin\Pap\CampaignAdmin">
            <tag name="sonata.admin" manager-type="orm" label="PAP » Campagnes" group="Mobilisation" />

            <argument />
            <argument>App\Entity\Pap\Campaign</argument>
            <argument />
        </service>

        <service id="app.admin.pap.campaign_history" class="App\Admin\Pap\CampaignHistoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="PAP » Portes frappées" group="Mobilisation" />

            <argument />
            <argument>App\Entity\Pap\CampaignHistory</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Élus
        ######################################################
        -->

        <service id="app.admin.adherent_elected_representative" class="App\Admin\AdherentElectedRepresentativeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Élus" group="Élus" />

            <argument />
            <argument>App\Entity\Adherent</argument>
            <argument>App\Controller\Admin\AdminAdherentCRUDController</argument>
            <argument type="service" id="event_dispatcher"/>
        </service>

        <!--
        ######################################################
        # Élections
        ######################################################
        -->

        <service id="app.admin.republican_silence" class="App\Admin\RepublicanSilenceAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Silence républicain" group="Élections"/>

            <argument />
            <argument>App\Entity\RepublicanSilence</argument>
            <argument />
        </service>

        <service id="app.admin.procuration_v2.election" class="App\Admin\Procuration\ElectionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Procurations » Élections" group="Élections" />

            <argument />
            <argument>App\Entity\ProcurationV2\Election</argument>
            <argument />
        </service>

        <service id="app.admin.procuration_v2.procuration_request" class="App\Admin\Procuration\ProcurationRequestAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Procurations » Demandes incomplètes" group="Élections" />

            <argument />
            <argument>App\Entity\ProcurationV2\ProcurationRequest</argument>
            <argument />
        </service>

        <service id="app.admin.procuration_v2.request" class="App\Admin\Procuration\RequestAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Procurations » Mandants" group="Élections" />

            <argument />
            <argument>App\Entity\ProcurationV2\Request</argument>
            <argument />
        </service>

        <service id="app.admin.procuration_v2.proxy" class="App\Admin\Procuration\ProxyAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Procurations » Mandataires" group="Élections" />

            <argument />
            <argument>App\Entity\ProcurationV2\Proxy</argument>
            <argument />
        </service>

        <service id="app.admin.vote_place_admin" class="App\Admin\VotePlaceAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Assesseur(e)s » Bureaux de vote" group="Élections" />

            <argument />
            <argument>App\Entity\VotePlace</argument>
            <argument />
        </service>

        <service id="app.admin.election" class="App\Admin\ElectionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Assesseurs » Élections" group="Élections" />

            <argument />
            <argument>App\Entity\Election</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Élections internes
        ######################################################
        -->

        <service id="app.admin.voting_platform.designation" class="App\Admin\VotingPlatform\Designation\DesignationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Désignations statutaires" group="Élections internes" />

            <argument />
            <argument>App\Entity\VotingPlatform\Designation\Designation</argument>
            <argument />
        </service>

        <service id="app.admin.voting_platform.designation_poll" class="App\Admin\VotingPlatform\Designation\Poll\DesignationPollAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Designation » Questionnaires" group="Élections internes" />

            <argument />
            <argument>App\Entity\VotingPlatform\Designation\Poll\Poll</argument>
            <argument />
        </service>

        <service id="app.admin.voting_platform.designation_poll_question_choice" class="App\Admin\VotingPlatform\Designation\Poll\PollQuestionAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false" />

            <argument />
            <argument>App\Entity\VotingPlatform\Designation\Poll\PollQuestion</argument>
            <argument />
        </service>

        <service id="app.admin.voting_platform.designation_candidacy_pool" class="App\Admin\VotingPlatform\Designation\CandidacyPool\CandidacyPoolAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Designation » Candidatures" group="Élections internes" />

            <argument />
            <argument>App\Entity\VotingPlatform\Designation\CandidacyPool\CandidacyPool</argument>
            <argument />
        </service>

        <service id="app.admin.voting_platform.designation_candidacy_pool_candidacies_groups" class="App\Admin\VotingPlatform\Designation\CandidacyPool\CandidaciesGroupAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false" />

            <argument />
            <argument>App\Entity\VotingPlatform\Designation\CandidacyPool\CandidaciesGroup</argument>
            <argument />
        </service>

        <service id="app.admin.voting_platform.designation_candidacy_pool_candidacy" class="App\Admin\VotingPlatform\Designation\CandidacyPool\CandidacyAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false" />

            <argument />
            <argument>App\Entity\VotingPlatform\Designation\CandidacyPool\Candidacy</argument>
            <argument />
        </service>

        <service id="app.admin.designation.election" class="App\Admin\Designation\VotingPlatformElectionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Elections" group="Élections internes" />

            <argument />
            <argument>App\Entity\VotingPlatform\Election</argument>
            <argument />

            <call method="setTemplate">
                <argument>show</argument>
                <argument>admin/instances/election_dashboard.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.designation.vote" class="App\Admin\Designation\VotingPlatformVoteAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Emargements" group="Élections internes" />

            <argument />
            <argument>App\Entity\VotingPlatform\Vote</argument>
            <argument />
        </service>

        <service id="app.admin.local_election" class="App\Admin\LocalElection\LocalElectionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Départementales » Accueil" group="Élections internes" />

            <argument />
            <argument>App\Entity\LocalElection\LocalElection</argument>
            <argument />
        </service>

        <service id="app.admin.local_election.candidacies_group" class="App\Admin\LocalElection\CandidaciesGroupAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Départementales » Listes" group="Élections internes" />

            <argument />
            <argument>App\Entity\LocalElection\CandidaciesGroup</argument>
            <argument>App\Controller\Admin\AdminCandidaciesGroupCandidateImportController</argument>
        </service>

        <service id="app.admin.local_election.candidacy" class="App\Admin\LocalElection\CandidacyAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false" />

            <argument />
            <argument>App\Entity\LocalElection\Candidacy</argument>
            <argument />
        </service>

        <service id="app.admin.local_election.substitute_candidacy" class="App\Admin\LocalElection\SubstituteCandidacyAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false" />

            <argument />
            <argument>App\Entity\LocalElection\SubstituteCandidacy</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Application mobile
        ######################################################
        -->

        <service id="app.admin.jecoute.news" class="App\Admin\Jecoute\NewsAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Notifications" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\News</argument>
            <argument>App\Controller\Admin\AdminJecouteNewsCRUDController</argument>

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/jecoute/news/edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.jecoute.national_region" class="App\Admin\Jecoute\NationalRegionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Actu principale nationale" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\Region</argument>
            <argument />
            <argument type="service" id="App\Jecoute\RegionManager" />
        </service>

        <service id="app.admin.jecoute.candidate_region" class="App\Admin\Jecoute\CandidateRegionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Actu principale régionale" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\Region</argument>
            <argument />
            <argument type="service" id="App\Jecoute\RegionManager" />
        </service>

        <service id="app.admin.jecoute.referent_region" class="App\Admin\Jecoute\ReferentRegionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Actu principale départementale" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\Region</argument>
            <argument />
            <argument type="service" id="App\Jecoute\RegionManager" />
        </service>

        <service id="app.admin.jecoute_suggested_question" class="App\Admin\JecouteSuggestedQuestionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Questions paniers" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\SuggestedQuestion</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/jecoute/suggested_question_edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.jecoute_local_survey" class="App\Admin\JecouteLocalSurveyAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Questionnaires locaux" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\LocalSurvey</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/jecoute/survey_edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.jecoute_national_survey" class="App\Admin\JecouteNationalSurveyAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Questionnaires nationaux" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\NationalSurvey</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/jecoute/survey_edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.jecoute_data_survey" class="App\Admin\DataSurveyAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false" />

            <argument />
            <argument>App\Entity\Jecoute\DataSurvey</argument>
            <argument />
        </service>


        <service id="app.admin.poll.poll" class="App\Admin\Poll\NationalPollAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Sondages" group="App mobile" />

            <argument />
            <argument>App\Entity\Poll\NationalPoll</argument>
            <argument />

            <call method="setTemplate">
                <argument>show</argument>
                <argument>admin/poll/show.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.jecoute.riposte" class="App\Admin\Jecoute\RiposteAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Ripostes" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\Riposte</argument>
            <argument />
        </service>

        <service id="app.admin.jecoute.resource.link" class="App\Admin\Jecoute\ResourceLinkAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Ressources" group="App mobile" />

            <argument />
            <argument>App\Entity\Jecoute\ResourceLink</argument>
            <argument/>
        </service>

        <service id="app.admin.je_mengage.header_block" class="App\Admin\JeMengage\HeaderBlockAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Paramètres d'en-tête" group="App mobile" />

            <argument />
            <argument>App\Entity\JeMengage\HeaderBlock</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Finances
        ######################################################
        -->

        <service id="app.admin.donation" class="App\Admin\DonationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Dons" group="Finances" />

            <argument />
            <argument>App\Entity\Donation</argument>
            <argument />
        </service>

        <service id="app.admin.donator" class="App\Admin\DonatorAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Donateurs" group="Finances" />

            <argument />
            <argument>App\Entity\Donator</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/donator/edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.donator_tag" class="App\Admin\DonatorTagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tags donateurs" group="Finances" />

            <argument />
            <argument>App\Entity\DonatorTag</argument>
            <argument />
        </service>

        <service id="app.admin.donation_tag" class="App\Admin\DonationTagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tags dons" group="Finances" />

            <argument />
            <argument>App\Entity\DonationTag</argument>
            <argument />
        </service>

        <service id="app.admin.ohme_contact" class="App\Admin\Ohme\ContactAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Ohme » Contacts" group="Finances" />

            <argument />
            <argument>App\Entity\Ohme\Contact</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Tech
        ######################################################
        -->

        <service id="app.admin.administrator" class="App\Admin\AdministratorAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Administrateurs" group="Tech" />

            <argument />
            <argument>App\Entity\Administrator</argument>
            <argument />

            <call method="setGoogleAuthenticator">
                <argument type="service" id="scheb_two_factor.security.google_authenticator" />
            </call>
        </service>

        <service id="app.admin.administrator_role" class="App\Admin\AdministratorRoleAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Rôles Administrateur" group="Tech" />

            <argument />
            <argument>App\Entity\AdministratorRole</argument>
            <argument />
        </service>

        <service id="app.admin.administrator_action_history" class="App\Admin\AdministratorActionHistoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Historique administrateurs" group="Tech" />

            <argument />
            <argument>App\Entity\AdministratorActionHistory</argument>
            <argument />
        </service>

        <service id="app.admin.email" class="App\Admin\Email\EmailLogAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Logs Mailer" group="Tech" />

            <argument />
            <argument>App\Entity\Email\EmailLog</argument>
            <argument>App\Controller\Admin\AdminEmailCRUDController</argument>
        </service>

        <service id="app.admin.push_notification" class="App\Admin\PushNotificationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Logs Push" group="Tech" />

            <argument />
            <argument>App\Entity\Notification</argument>
            <argument />
        </service>

        <service id="app.admin.transactional_email_template" class="App\Admin\Email\TransactionalEmailTemplateAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Templates Email" group="Tech" />

            <argument />
            <argument>App\Entity\Email\TransactionalEmailTemplate</argument>
            <argument>App\Controller\Admin\AdminEmailCRUDController</argument>
            <call method="setAppEnvironment">
                <argument>%env(APP_ENVIRONMENT)%</argument>
            </call>
        </service>

        <service id="app.admin.subscription_type" class="App\Admin\SubscriptionTypeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Préférence de notifications" group="Tech" />

            <argument />
            <argument>App\Entity\SubscriptionType</argument>
            <argument />
        </service>

        <service id="app.admin.uploadable_file" class="App\Admin\UploadableFileAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false" model_class="App\Entity\UploadableFile"/>
        </service>

        <service id="app.admin.client" class="App\Admin\OAuth\ClientAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Client" group="Tech" />

            <argument />
            <argument>App\Entity\OAuth\Client</argument>
            <argument />
        </service>

        <service id="app.admin.scope" class="App\Admin\ScopeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Scopes" group="Tech" />

            <argument />
            <argument>App\Entity\Scope</argument>
            <argument />
        </service>

        <service id="app.admin.adherent_static_label" class="App\Admin\AdherentStaticLabelAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Labels statiques" group="Tech" />

            <argument />
            <argument>App\Entity\AdherentStaticLabel</argument>
            <argument />
        </service>

        <service id="app.admin.adherent_static_label_category" class="App\Admin\AdherentStaticLabelCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Catégories de label statique" group="Tech" />

            <argument />
            <argument>App\Entity\AdherentStaticLabelCategory</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Geo
        ######################################################
        -->

        <service id="app.admin.geo.zone" class="App\Admin\Geo\ZoneAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\Geo\Zone</argument>
            <argument />
        </service>

        <service id="app.admin.jecoute.jecoute_managed_area_admin" class="App\Admin\Jecoute\JecouteManagedAreaAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\JecouteManagedArea</argument>
            <argument />
        </service>

        <service id="app.admin.adherent_zone_based_role_admin" class="App\Admin\AdherentZoneBasedRoleAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\AdherentZoneBasedRole</argument>
            <argument />
        </service>

        <service id="app.admin.elected_representative_adherent_mandate" class="App\Admin\ElectedRepresentativeAdherentMandateAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\AdherentMandate\ElectedRepresentativeAdherentMandate</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Audience
        ######################################################
        -->

        <service id="app.admin.audience" class="App\Admin\Audience\AudienceAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\Audience\Audience</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Archives (à garder)
        ######################################################
        -->

        <service id="app.admin.elected_representative" class="App\Admin\ElectedRepresentative\ElectedRepresentativeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Registre des élus" group="Archives (à garder)" />

            <argument />
            <argument>App\Entity\ElectedRepresentative\ElectedRepresentative</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/elected_representative/edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.elected_representative.social_network_link" class="App\Admin\ElectedRepresentative\SocialNetworkLinkAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\ElectedRepresentative\SocialNetworkLink</argument>
            <argument />
        </service>

        <service id="app.admin.elected_representative.label" class="App\Admin\ElectedRepresentative\ElectedRepresentativeLabelAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\ElectedRepresentative\ElectedRepresentativeLabel</argument>
            <argument />
        </service>

        <service id="app.admin.elected_representative.mandate" class="App\Admin\ElectedRepresentative\MandateAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\ElectedRepresentative\Mandate</argument>
            <argument />
        </service>

        <service id="app.admin.elected_representative.political_function" class="App\Admin\ElectedRepresentative\PoliticalFunctionAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\ElectedRepresentative\PoliticalFunction</argument>
            <argument />
        </service>

        <service id="app.admin.elected_representative.zone" class="App\Admin\ElectedRepresentative\ZoneAdmin">
            <tag name="sonata.admin" manager-type="orm" show_in_dashboard="false"/>

            <argument />
            <argument>App\Entity\ElectedRepresentative\Zone</argument>
            <argument />
        </service>

        <service id="app.admin.renaissance_department_site" class="App\Admin\DepartmentSite\DepartmentSiteAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Sites Départementaux" group="Archives (à garder)" />

            <argument/>
            <argument>App\Entity\DepartmentSite\DepartmentSite</argument>
            <argument/>
            <argument type="string">%env(DPT_SITE_UNLAYER_TEMPLATE_ID)%</argument>
        </service>

        <service id="app.admin.proposal_theme" class="App\Admin\ProposalThemeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Programme » Thèmes" group="Archives (à garder)" />

            <argument />
            <argument>App\Entity\ProposalTheme</argument>
            <argument />
        </service>

        <service id="app.admin.proposal" class="App\Admin\ProposalAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Programme » Propositions" group="Archives (à garder)" />

            <argument />
            <argument>App\Entity\Proposal</argument>
            <argument />

            <call method="setTemplate">
                <argument>outer_list_rows_mosaic</argument>
                <argument>admin/media/mosaic.html.twig</argument>
            </call>
        </service>

        <!--
        ######################################################
        # Archives (à dépublier)
        ######################################################
        -->

        <service id="app.admin.media" class="App\Admin\MediaAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Upload" group="Archives (à dépublier)" />

            <argument />
            <argument>App\Entity\Media</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="League\Flysystem\FilesystemOperator" />
            </call>
            <call method="setGlide">
                <argument type="service" id="League\Glide\Server" />
            </call>
            <call method="setTemplate">
                <argument>outer_list_rows_mosaic</argument>
                <argument>admin/media/mosaic.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.city" class="App\Admin\CityAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Communes" group="Archives (à dépublier)" />

            <argument />
            <argument>App\Entity\City</argument>
            <argument />
        </service>

        <service id="app.admin.user_list_definition" class="App\Admin\UserListDefinitionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tech » Labels" group="Archives (à dépublier)" />

            <argument />
            <argument>App\Entity\UserListDefinition</argument>
            <argument />
        </service>

        <service id="app.admin.petition_signature" class="App\Admin\PetitionSignatureAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Signatures" group="Pétitions" model_class="App\Entity\PetitionSignature"/>
        </service>

        <!--
        ######################################################
        # Archives » Formation
        ######################################################
        -->

        <service id="app.admin.formation_path" class="App\Admin\Formation\PathAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Parcours" group="Archives » Formation" />

            <argument />
            <argument>App\Entity\Formation\Path</argument>
            <argument />
        </service>

        <service id="app.admin.formation_axe" class="App\Admin\Formation\AxeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Axes de formation" group="Archives » Formation"/>

            <argument />
            <argument>App\Entity\Formation\Axe</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="League\Flysystem\FilesystemOperator" />
            </call>
            <call method="setGlide">
                <argument type="service" id="League\Glide\Server" />
            </call>
        </service>

        <service id="app.admin.formation_module" class="App\Admin\Formation\ModuleAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Modules" group="Archives » Formation"/>

            <argument />
            <argument>App\Entity\Formation\Module</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="League\Flysystem\FilesystemOperator" />
            </call>
            <call method="setGlide">
                <argument type="service" id="League\Glide\Server" />
            </call>
        </service>

        <service id="app.admin.mooc_mooc" class="App\Admin\MoocAdmin">
            <tag name="sonata.admin" manager-type="orm" label="MOOC" group="Archives » Formation" />

            <argument />
            <argument>App\Entity\Mooc\Mooc</argument>
            <argument />
        </service>

        <service id="app.admin.mooc_chapter" class="App\Admin\MoocChapterAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Chapitres MOOC" group="Archives » Formation" />

            <argument />
            <argument>App\Entity\Mooc\Chapter</argument>
            <argument/>
        </service>

        <service id="app.admin.mooc_element" class="App\Admin\MoocElementAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Éléments MOOC" group="Archives » Formation" />

            <argument />
            <argument>App\Entity\Mooc\BaseMoocElement</argument>
            <argument/>

            <call method="setSubClasses">
                <argument type="collection">
                    <argument key="Image">App\Entity\Mooc\MoocImageElement</argument>
                    <argument key="Vidéo">App\Entity\Mooc\MoocVideoElement</argument>
                    <argument key="Quiz">App\Entity\Mooc\MoocQuizElement</argument>
                </argument>
            </call>
        </service>

        <!--
        ######################################################
        # Archives
        ######################################################
        -->

        <service id="app.admin.custom_search_result" class="App\Admin\CustomSearchResultAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Contenu » Résultats Algolia" group="Archives" />

            <argument />
            <argument>App\Entity\CustomSearchResult</argument>
            <argument />
        </service>

        <service id="app.admin.facebook_video" class="App\Admin\FacebookVideoAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Contenu » Vidéos Facebook" group="Archives" />

            <argument />
            <argument>App\Entity\FacebookVideo</argument>
            <argument />
        </service>

        <service id="app.admin.social_share_category" class="App\Admin\SocialShareCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Je Partage » Catégories" group="Archives" />

            <argument />
            <argument>App\Entity\SocialShareCategory</argument>
            <argument />
        </service>

        <service id="app.admin.social_share" class="App\Admin\SocialShareAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Je Partage » Contenus" group="Archives" />

            <argument />
            <argument>App\Entity\SocialShare</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="League\Flysystem\FilesystemOperator" />
            </call>

            <call method="setGlide">
                <argument type="service" id="League\Glide\Server" />
            </call>

            <call method="setAssetRuntime">
                <argument type="service" id="App\Twig\AssetRuntime" />
            </call>
        </service>

        <service id="app.admin.facebook_profile" class="App\Admin\FacebookProfileAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Profils Facebook" group="Archives" />

            <argument />
            <argument>App\Entity\FacebookProfile</argument>
            <argument />
        </service>

        <service id="app.admin.legislative_district_zone" class="App\Admin\LegislativeDistrictZoneAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Zones géographiques" group="Archives" />
            <argument />
            <argument>App\Entity\LegislativeDistrictZone</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Archives » Socle programmatique
        ######################################################
        -->

        <service id="app.admin.approach" class="App\Admin\ProgrammaticFoundation\ApproachAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Grand axes" group="Archives » Socle programmatique" />

            <argument />
            <argument>App\Entity\ProgrammaticFoundation\Approach</argument>
            <argument/>
        </service>

        <service id="app.admin.approach_sub" class="App\Admin\ProgrammaticFoundation\SubApproachAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Axes secondaires" group="Archives » Socle programmatique" />

            <argument />
            <argument>App\Entity\ProgrammaticFoundation\SubApproach</argument>
            <argument/>
        </service>

        <service id="app.admin.approach_measure" class="App\Admin\ProgrammaticFoundation\MeasureAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Mesures" group="Archives » Socle programmatique" />

            <argument />
            <argument>App\Entity\ProgrammaticFoundation\Measure</argument>
            <argument/>
        </service>

        <service id="app.admin.approach_project" class="App\Admin\ProgrammaticFoundation\ProjectAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Projets" group="Archives » Socle programmatique" />

            <argument />
            <argument>App\Entity\ProgrammaticFoundation\Project</argument>
            <argument />
        </service>

        <service id="app.admin.programmatic_foundation_tag" class="App\Admin\ProgrammaticFoundation\TagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tags" group="Archives » Socle programmatique" />

            <argument />
            <argument>App\Entity\ProgrammaticFoundation\Tag</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Extension
        ######################################################
        -->

        <service id="app.admin.algolia_indexed_entity_extension" class="App\Admin\Extension\AlgoliaIndexedEntityAdminExtension">
            <argument type="service" id="App\Algolia\AlgoliaIndexedEntityManager" />
            <tag name="sonata.admin.extension" target="app.admin.custom_search_result" />
            <tag name="sonata.admin.extension" target="app.admin.proposal" />
        </service>

        <service id="app.admin.softdeleteable_filter_configuration_extension" class="App\Admin\Extension\DoctrineSoftdeleteableFilterConfigurationAdminExtension">
            <tag name="sonata.admin.extension" target="app.admin.report" />
        </service>

        <service id="app.admin.entity_administrator_blameable_extension" class="App\Admin\Extension\EntityAdministratorBlameableAdminExtension">
            <tag name="sonata.admin.extension" priority="-256" />
            <tag name="sonata.admin.extension" target="app.admin.adherent" />
            <tag name="sonata.admin.extension" target="app.admin.committee" />
            <tag name="sonata.admin.extension" target="app.admin.cms_block" />
            <tag name="sonata.admin.extension" target="app.admin.team.team" />
            <tag name="sonata.admin.extension" target="app.admin.phoning.campaign" />
            <tag name="sonata.admin.extension" target="app.admin.jecoute_national_survey" />
            <tag name="sonata.admin.extension" target="app.admin.jecoute_local_survey" />
            <tag name="sonata.admin.extension" target="app.admin.voting_platform.designation" />
            <tag name="sonata.admin.extension" target="app.admin.local_election.candidacies_group" />
            <tag name="sonata.admin.extension" target="app.admin.adherent_formation" />
            <tag name="sonata.admin.extension" target="app.admin.general_meeting_report" />
            <tag name="sonata.admin.extension" target="app.admin.email_template" />
            <tag name="sonata.admin.extension" target="app.admin.consultation" />
            <tag name="sonata.admin.extension" target="app.admin.chatbot_chatbot" />
            <tag name="sonata.admin.extension" target="app.admin.procuration_v2.election" />
            <tag name="sonata.admin.extension" target="app.admin.hub_item" />
            <tag name="sonata.admin.extension" target="app.admin.transactional_email_template" />
            <tag name="sonata.admin.extension" target="app.admin.jecoute.news" />
            <tag name="sonata.admin.extension" target="app.admin.live_stream" />
        </service>

        <service id="app.admin.entity_scope_visibility_extension" class="App\Admin\Extension\EntityScopeVisibilityAdminExtension">
            <tag name="sonata.admin.extension" target="app.admin.team.team" />
            <tag name="sonata.admin.extension" target="app.admin.phoning.campaign" />
            <tag name="sonata.admin.extension" target="app.admin.adherent_formation" />
            <tag name="sonata.admin.extension" target="app.admin.general_meeting_report" />
        </service>

        <service id="app.admin.manage_media_extension" class="App\Admin\Extension\ManageMediaExtension">
            <tag name="sonata.admin.extension" target="app.admin.formation_module" />
            <tag name="sonata.admin.extension" target="app.admin.formation_axe" />
        </service>

        <service id="app.admin.image_relation_upload_extension" class="App\Admin\Extension\ImageRelationUploadExtension">
            <tag name="sonata.admin.extension" target="app.admin.mooc_mooc" />
            <tag name="sonata.admin.extension" target="app.admin.mooc_element" />
        </service>

        <service id="app.admin.simple_image_upload_extension" class="App\Admin\Extension\SimpleImageUploadExtension">
            <tag name="sonata.admin.extension" target="app.admin.jecoute.resource.link" />
            <tag name="sonata.admin.extension" target="app.admin.je_mengage.header_block" />
        </service>
    </services>
</container>
