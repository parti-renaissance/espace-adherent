<?xml version="1.0" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <services>
        <defaults autowire="true" autoconfigure="true"/>

        <service id="app.admin.administrator_factory" class="AppBundle\Admin\AdministratorFactory">
            <argument type="service" id="security.encoder_factory" />
        </service>

        <!--
        ######################################################
        # Communication
        ######################################################
        -->

        <service id="app.admin.media" class="AppBundle\Admin\MediaAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Upload" group="Communication" />

            <argument />
            <argument>AppBundle\Entity\Media</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="app.storage" />
            </call>

            <call method="setGlide">
                <argument type="service" id="app.glide" />
            </call>
        </service>

        <service id="app.admin.article" class="AppBundle\Admin\ArticleAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Actualités" group="Communication" />

            <argument />
            <argument>AppBundle\Entity\Article</argument>
            <argument />
        </service>

        <service id="app.admin.page" class="AppBundle\Admin\PageAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Pages statiques" group="Communication" />

            <argument />
            <argument>AppBundle\Entity\Page</argument>
            <argument />
        </service>

        <service id="app.admin.home_block" class="AppBundle\Admin\HomeBlockAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Blocs d'articles" group="Communication" />

            <argument />
            <argument>AppBundle\Entity\HomeBlock</argument>
            <argument />
        </service>

        <service id="app.admin.clarification" class="AppBundle\Admin\ClarificationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Désintox" group="Communication" />
            <argument />
            <argument>AppBundle\Entity\Clarification</argument>
            <argument />
            <call method="setTemplates">
                <argument type="collection">
                    <argument key="outer_list_rows_mosaic">admin/media_mosaic.html.twig</argument>
                </argument>
            </call>
            <call method="setStorage">
                <argument type="service" id="app.storage" />
            </call>
            <call method="setGlide">
                <argument type="service" id="app.glide" />
            </call>
        </service>

        <service id="app.admin.redirection" class="AppBundle\Admin\RedirectionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Redirections" group="Communication" />

            <argument />
            <argument>AppBundle\Entity\Redirection</argument>
            <argument />
        </service>

        <service id="app.admin.biography_executive_office_member" class="AppBundle\Admin\ExecutiveOfficeMemberAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Biographies BurEx" group="Communication" />

            <argument />
            <argument>AppBundle\Entity\Biography\ExecutiveOfficeMember</argument>
            <argument />
        </service>

        <service id="app.admin.live_link" class="AppBundle\Admin\LiveLinkAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Liens En Direct" group="Communication" />

            <argument />
            <argument>AppBundle\Entity\LiveLink</argument>
            <argument />
        </service>

        <service id="app.admin.newsletter_subscription" class="AppBundle\Admin\NewsletterSubscriptionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Newsletter" group="Communication" />

            <argument />
            <argument>AppBundle\Entity\NewsletterSubscription</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Adhérents
        ######################################################
        -->

        <service id="app.admin.adherent" class="AppBundle\Admin\AdherentAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Adhérents" group="Adhérents" />

            <argument />
            <argument>AppBundle\Entity\Adherent</argument>
            <argument>AppBundle\Controller\Admin\AdminBanAdherentController</argument>
            <argument type="service" id="event_dispatcher"/>
        </service>

        <service id="app.admin.invite" class="AppBundle\Admin\InviteAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Invitations" group="Adhérents" />

            <argument />
            <argument>AppBundle\Entity\Invite</argument>
            <argument />
        </service>

        <service id="app.admin.unregistration" class="AppBundle\Admin\UnregistrationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Désadhésions/exclusions" group="Adhérents" />

            <argument />
            <argument>AppBundle\Entity\Unregistration</argument>
            <argument />
        </service>

        <service id="app.admin.summary" class="AppBundle\Admin\SummaryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Profils" group="Adhérents" />

            <argument />
            <argument>AppBundle\Entity\Summary</argument>
            <argument />

            <call method="setInterestChoices">
                <argument>%adherent_interests%</argument>
            </call>
        </service>

        <service id="app.admin.summary_mission_type" class="AppBundle\Admin\MissionTypeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Type de missions (profils)" group="Adhérents" />

            <argument />
            <argument>AppBundle\Entity\MemberSummary\MissionType</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Territory
        ######################################################
        -->

        <service id="app.admin.committee" class="AppBundle\Admin\CommitteeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Comités" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\Committee</argument>
            <argument />
            <argument type="service" id="app.committee.manager" />
            <argument type="service" id="doctrine.orm.entity_manager" />
            <argument type="service" id="event_dispatcher"/>
        </service>

        <service id="app.admin.reporting_committee_merge_history" class="AppBundle\Admin\CommitteeMergeHistoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Fusions de comités" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\Reporting\CommitteeMergeHistory</argument>
            <argument />
        </service>

        <service id="app.admin.event" class="AppBundle\Admin\EventAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Événements" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\Event</argument>
            <argument />
            <argument type="service" id="event_dispatcher"/>
            <argument type="service" id="AppBundle\Referent\ReferentTagManager"/>
        </service>

        <service id="app.admin.institutional_event" class="AppBundle\Admin\InstitutionalEventAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Événements institutionnels" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\InstitutionalEvent</argument>
            <argument />
            <argument type="service" id="event_dispatcher"/>
            <argument type="service" id="AppBundle\Referent\ReferentTagManager"/>
        </service>

        <service id="app.admin.event_category" class="AppBundle\Admin\EventCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Catégories d'événements" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\EventCategory</argument>
            <argument />
        </service>

        <service id="app.admin.event_group_category" class="AppBundle\Admin\EventGroupCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Groupe de Catégories d'événements" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\EventGroupCategory</argument>
            <argument />
        </service>

        <service id="app.admin.institutional_event_category" class="AppBundle\Admin\InstitutionalEventCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Catégories d'événements institutionnels" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\InstitutionalEventCategory</argument>
            <argument />
        </service>

        <service id="app.admin.procuration_request" class="AppBundle\Admin\ProcurationRequestAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Procurations » Demandes" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\ProcurationRequest</argument>
            <argument />
        </service>

        <service id="app.admin.procuration_proxy" class="AppBundle\Admin\ProcurationProxyAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Procurations » Propositions" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\ProcurationProxy</argument>
            <argument />
        </service>

        <service id="app.admin.referent" class="AppBundle\Admin\ReferentAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Référents" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\Referent</argument>
            <argument>AppBundle\Controller\Admin\AdminReferentController</argument>
            <argument type="service" id="app.form.data_transformer.referent_area_transformer" />
            <call method="setTemplate">
                <argument>list</argument>
                <argument>admin/referent/admin_list.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.referent_area" class="AppBundle\Admin\ReferentAreaAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Zone des référents" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\ReferentArea</argument>
            <argument />
        </service>

        <service id="app.admin.organizational_chart_item_admin" class="AppBundle\Admin\OrganizationalChartItemAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Équipe départementale" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\ReferentOrganizationalChart\AbstractOrganizationalChartItem</argument>
            <argument />
            <call method="setSubClasses">
                <argument type="collection">
                    <argument key="person">AppBundle\Entity\ReferentOrganizationalChart\PersonOrganizationalChartItem</argument>
                    <argument key="group">AppBundle\Entity\ReferentOrganizationalChart\GroupOrganizationalChartItem</argument>
                </argument>
            </call>
            <call method="setTemplate">
                <argument>list</argument>
                <argument>admin/organizational_chart/admin_list.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.district" class="AppBundle\Admin\DistrictAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Circonscriptions" group="Territoire" show_in_dashboard="false" />

            <argument />
            <argument>AppBundle\Entity\District</argument>
            <argument />
        </service>

        <service id="app.admin.vote_place_admin" class="AppBundle\Admin\VotePlaceAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Assesseur(e)s » Bureaux de vote" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\VotePlace</argument>
            <argument />
        </service>

        <service id="app.admin.assessor_request_admin" class="AppBundle\Admin\AssessorRequestAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Assesseur(e)s » Demandes" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\AssessorRequest</argument>
            <argument />
        </service>

        <service id="app.admin.jecoute_suggested_question" class="AppBundle\Admin\JecouteSuggestedQuestionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="J'écoute » Questions panier" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\Jecoute\SuggestedQuestion</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/jecoute/suggested_question_edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.jecoute_local_survey" class="AppBundle\Admin\JecouteLocalSurveyAdmin">
            <tag name="sonata.admin" manager-type="orm" label="J'écoute » Questionnaires locaux" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\Jecoute\LocalSurvey</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/jecoute/survey_edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.jecoute_national_survey" class="AppBundle\Admin\JecouteNationalSurveyAdmin">
            <tag name="sonata.admin" manager-type="orm" label="J'écoute » Questionnaires nationaux" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\Jecoute\NationalSurvey</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/jecoute/survey_edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.report" class="AppBundle\Admin\ReportAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Signalements" group="Territoire" />

            <argument />
            <argument>AppBundle\Entity\Report\Report</argument>
            <argument />
            <argument type="service" id="AppBundle\Repository\ReportRepository" />
        </service>

        <!--
        ######################################################
        # Finances
        ######################################################
        -->

        <service id="app.admin.donation" class="AppBundle\Admin\DonationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Dons" group="Finances" />

            <argument />
            <argument>AppBundle\Entity\Donation</argument>
            <argument />
        </service>

        <service id="app.admin.donator" class="AppBundle\Admin\DonatorAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Donateurs" group="Finances" />

            <argument />
            <argument>AppBundle\Entity\Donator</argument>
            <argument />
        </service>

        <service id="app.admin.donator_tag" class="AppBundle\Admin\DonatorTagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tags donateurs" group="Finances" />

            <argument />
            <argument>AppBundle\Entity\DonatorTag</argument>
            <argument />
        </service>

        <service id="app.admin.donation_tag" class="AppBundle\Admin\DonationTagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tags dons" group="Finances" />

            <argument />
            <argument>AppBundle\Entity\DonationTag</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Tech
        ######################################################
        -->

        <service id="app.admin.administrator" class="AppBundle\Admin\AdministratorAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Administrateurs" group="Tech" />

            <argument />
            <argument>AppBundle\Entity\Administrator</argument>
            <argument />

            <call method="setEncoders">
                <argument type="service" id="security.encoder_factory" />
            </call>

            <call method="setGoogleAuthenticator">
                <argument type="service" id="scheb_two_factor.security.google_authenticator" />
            </call>
        </service>

        <service id="app.admin.email" class="AppBundle\Admin\EmailAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Logs Mailer" group="Tech" />

            <argument />
            <argument>AppBundle\Entity\Email</argument>
            <argument />
        </service>

        <service id="app.admin.adherent_tag" class="AppBundle\Admin\AdherentTagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tags adhérents" group="Tech" />

            <argument />
            <argument>AppBundle\Entity\AdherentTag</argument>
            <argument />
        </service>

        <service id="app.admin.subscription_type" class="AppBundle\Admin\SubscriptionTypeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Types d'e-mails" group="Tech" />

            <argument />
            <argument>AppBundle\Entity\SubscriptionType</argument>
            <argument />
        </service>

        <service id="app.admin.client" class="AppBundle\Admin\OAuth\ClientAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Client" group="Tech" />

            <argument />
            <argument>AppBundle\Entity\OAuth\Client</argument>
            <argument />

            <call method="setClientManager">
                <argument type="service" id="AppBundle\OAuth\ClientManager" />
            </call>
        </service>

        <!--
        ######################################################
        # CitizenProject
        ######################################################
        -->

        <service id="app.admin.citizen_project" class="AppBundle\Admin\CitizenProjectAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Projets citoyens" group="Projets citoyens" />

            <argument />
            <argument>AppBundle\Entity\CitizenProject</argument>
            <argument />
            <argument type="service" id="AppBundle\CitizenProject\CitizenProjectManager" />
            <argument type="service" id="AppBundle\Repository\CitizenProjectRepository" />
            <argument type="service" id="AppBundle\Repository\CitizenProjectMembershipRepository" />
            <argument type="service" id="AppBundle\Repository\AdherentRepository" />
        </service>

        <service id="app.admin.citizen_project_category" class="AppBundle\Admin\CitizenProjectCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Catégories des projets" group="Projets citoyens" />

            <argument />
            <argument>AppBundle\Entity\CitizenProjectCategory</argument>
            <argument />
        </service>

        <service id="app.admin.citizen_action" class="AppBundle\Admin\CitizenActionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Actions citoyennes" group="Projets citoyens" />

            <argument />
            <argument>AppBundle\Entity\CitizenAction</argument>
            <argument />
        </service>

        <service id="app.admin.citizen_project_skill" class="AppBundle\Admin\CitizenProjectSkillAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Compétences" group="Projets citoyens" />

            <argument />
            <argument>AppBundle\Entity\CitizenProjectSkill</argument>
            <argument />
        </service>

        <service id="app.admin.citizen_action_category" class="AppBundle\Admin\CitizenActionCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Catégories des actions " group="Projets citoyens" />

            <argument />
            <argument>AppBundle\Entity\CitizenActionCategory</argument>
            <argument />
        </service>

        <service id="app.admin.turnkey_project" class="AppBundle\Admin\TurnkeyProjectAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Projets clé en main" group="Projets citoyens" />

            <argument />
            <argument>AppBundle\Entity\TurnkeyProject</argument>
            <argument />
            <argument type="service" id="AppBundle\TurnkeyProject\TurnkeyProjectManager" />
        </service>

        <!--
        ######################################################
        # Idées
        ######################################################
        -->
        <service id="app.admin.ideas_workshop_idea" class="AppBundle\Admin\IdeasWorkshopIdeaAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Propositions" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\Idea</argument>
            <argument />
        </service>

        <service id="app.admin.ideas_workshop_thread" class="AppBundle\Admin\IdeasWorkshopThreadAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Fils de discussion" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\Thread</argument>
            <argument />
        </service>

        <service id="app.admin.ideas_workshop_consultation" class="AppBundle\Admin\IdeasWorkshopConsultationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Consultation en cours" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\Consultation</argument>
            <argument />
        </service>

        <service id="app.admin.ideas_workshop_consultation_report" class="AppBundle\Admin\IdeasWorkshopConsultationReportAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Rapports de consultations" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\ConsultationReport</argument>
            <argument />
        </service>

        <service id="app.admin.ideas_workshop_category" class="AppBundle\Admin\IdeasWorkshopCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Echelles" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\Category</argument>
            <argument />
        </service>

        <service id="app.admin.ideas_workshop_need" class="AppBundle\Admin\IdeasWorkshopNeedAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Besoins" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\Need</argument>
            <argument />
        </service>

        <service id="app.admin.ideas_workshop_theme" class="AppBundle\Admin\IdeasWorkshopThemeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Thèmes" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\Theme</argument>
            <argument />

            <call method="setThemeManager">
                <argument type="service" id="AppBundle\IdeasWorkshop\ThemeManager"/>
            </call>
        </service>

        <service id="app.admin.ideas_workshop_guideline" class="AppBundle\Admin\IdeasWorkshopGuidelineAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Trame (sections)" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\Guideline</argument>
            <argument />
        </service>

        <service id="app.admin.ideas_workshop_question" class="AppBundle\Admin\IdeasWorkshopQuestionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="ADI » Trame (questions)" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\IdeasWorkshop\Question</argument>
            <argument />
        </service>

        <service id="app.admin.timeline_manifesto" class="AppBundle\Admin\TimelineManifestoAdmin">
            <tag name="sonata.admin" manager-type="orm" label="OLDOLF » Programmes" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\Timeline\Manifesto</argument>
            <argument>AppBundle\Controller\Admin\AdminTimelineManifestoController</argument>
        </service>

        <service id="app.admin.timeline_profile" class="AppBundle\Admin\TimelineProfileAdmin">
            <tag name="sonata.admin" manager-type="orm" label="OLDOLF » Profils" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\Timeline\Profile</argument>
            <argument>AppBundle\Controller\Admin\AdminTimelineProfileController</argument>
        </service>

        <service id="app.admin.timeline_theme" class="AppBundle\Admin\TimelineThemeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="OLDOLF » Thèmes" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\Timeline\Theme</argument>
            <argument>AppBundle\Controller\Admin\AdminTimelineThemeController</argument>
        </service>

        <service id="app.admin.timeline_measure" class="AppBundle\Admin\TimelineMeasureAdmin">
            <tag name="sonata.admin" manager-type="orm" label="OLDOLF » Mesures" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\Timeline\Measure</argument>
            <argument>AppBundle\Controller\Admin\AdminTimelineMeasureController</argument>
        </service>

        <service id="app.admin.chez_vous_city" class="AppBundle\Admin\ChezVous\CityAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Chez vous » Villes" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\ChezVous\City</argument>
            <argument />

            <call method="setTemplate">
                <argument>edit</argument>
                <argument>admin/chez_vous/city/edit.html.twig</argument>
            </call>
        </service>

        <service id="app.admin.chez_vous_measure_type" class="AppBundle\Admin\ChezVous\MeasureTypeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Chez vous » Indices" group="Idées" />

            <argument />
            <argument>AppBundle\Entity\ChezVous\MeasureType</argument>
            <argument />
            <argument type="service" id="event_dispatcher"/>
        </service>

        <!--
        ######################################################
        # Formation
        ######################################################
        -->

        <service id="app.admin.formation_path" class="AppBundle\Admin\Formation\PathAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Parcours" group="Formation" />

            <argument />
            <argument>AppBundle\Entity\Formation\Path</argument>
            <argument />
        </service>

        <service id="app.admin.formation_axe" class="AppBundle\Admin\Formation\AxeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Axes de formation" group="Formation"/>

            <argument />
            <argument>AppBundle\Entity\Formation\Axe</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="app.storage" />
            </call>
            <call method="setGlide">
                <argument type="service" id="app.glide" />
            </call>
        </service>

        <service id="app.admin.formation_module" class="AppBundle\Admin\Formation\ModuleAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Modules" group="Formation"/>

            <argument />
            <argument>AppBundle\Entity\Formation\Module</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="app.storage" />
            </call>
            <call method="setGlide">
                <argument type="service" id="app.glide" />
            </call>
        </service>

        <service id="app.admin.manage_media_extension" class="AppBundle\Admin\Extension\ManageMediaExtension">
            <tag name="sonata.admin.extension" target="app.admin.formation_module" />
            <tag name="sonata.admin.extension" target="app.admin.formation_axe" />
        </service>

        <service id="app.admin.image_upload_extension" class="AppBundle\Admin\Extension\ImageUploadExtension">
            <tag name="sonata.admin.extension" target="app.admin.mooc_mooc" />
            <tag name="sonata.admin.extension" target="app.admin.mooc_element" />
        </service>

        <service id="app.admin.mooc_mooc" class="AppBundle\Admin\MoocAdmin">
            <tag name="sonata.admin" manager-type="orm" label="MOOC" group="Formation" />

            <argument />
            <argument>AppBundle\Entity\Mooc\Mooc</argument>
            <argument />
        </service>

        <service id="app.admin.mooc_chapter" class="AppBundle\Admin\MoocChapterAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Chapitres MOOC" group="Formation" />

            <argument />
            <argument>AppBundle\Entity\Mooc\Chapter</argument>
            <argument>PixSortableBehaviorBundle:SortableAdmin</argument>
        </service>

        <service id="app.admin.mooc_element" class="AppBundle\Admin\MoocElementAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Éléments MOOC" group="Formation" />

            <argument />
            <argument>AppBundle\Entity\Mooc\BaseMoocElement</argument>
            <argument>PixSortableBehaviorBundle:SortableAdmin</argument>
            <call method="setSubClasses">
                <argument type="collection">
                    <argument key="Image">AppBundle\Entity\Mooc\MoocImageElement</argument>
                    <argument key="Vidéo">AppBundle\Entity\Mooc\MoocVideoElement</argument>
                    <argument key="Quiz">AppBundle\Entity\Mooc\MoocQuizElement</argument>
                </argument>
            </call>
        </service>

        <!--
        ######################################################
        # Data Transformer
        ######################################################
        -->

        <service id="app.form.data_transformer.referent_area_transformer" class="AppBundle\Form\DataTransformer\ReferentAreaTransformer">
            <argument type="service" id="doctrine.orm.entity_manager"/>
        </service>

        <service autowire="true" public="false" id="AppBundle\Form\DataTransformer\CommitteeTransformer"/>

        <!--
        ######################################################
        # Extension
        ######################################################
        -->

        <service id="app.admin.algolia_indexed_entity_extension" class="AppBundle\Admin\Extension\AlgoliaIndexedEntityAdminExtension">
            <argument type="service" id="AppBundle\Algolia\AlgoliaIndexedEntityManager" />

            <tag name="sonata.admin.extension" target="app.admin.timeline_manifesto" />
            <tag name="sonata.admin.extension" target="app.admin.timeline_profile" />
            <tag name="sonata.admin.extension" target="app.admin.timeline_theme" />
            <tag name="sonata.admin.extension" target="app.admin.timeline_measure" />
            <tag name="sonata.admin.extension" target="app.admin.chez_vous_city" />
        </service>

        <service id="app.admin.empty_translation_remover_extension" class="AppBundle\Admin\Extension\EmptyTranslationRemoverAdminExtension">
            <argument type="service" id="AppBundle\Form\EventListener\EmptyTranslationRemoverListener" />

            <tag name="sonata.admin.extension" target="app.admin.timeline_profile" />
            <tag name="sonata.admin.extension" target="app.admin.timeline_theme" />
            <tag name="sonata.admin.extension" target="app.admin.timeline_measure" />
        </service>

        <service id="app.admin.amp_synchronised_extension" class="AppBundle\Admin\Extension\AmpSynchronisedAdminExtension">
            <argument type="service" id="AppBundle\Form\EventListener\AmpSynchronisedListener" />

            <tag name="sonata.admin.extension" target="app.admin.article" />
            <tag name="sonata.admin.extension" target="app.admin.page" />
            <tag name="sonata.admin.extension" target="app.admin.proposal" />
            <tag name="sonata.admin.extension" target="app.admin.order_article" />
        </service>

        <service id="app.admin.postal_code_filter_extension" class="AppBundle\Admin\Extension\PostalCodeFilterAdminExtension">
            <tag name="sonata.admin.extension" target="app.admin.committee" />
            <tag name="sonata.admin.extension" target="app.admin.event" />
            <tag name="sonata.admin.extension" target="app.admin.citizen_project" />
            <tag name="sonata.admin.extension" target="app.admin.citizen_action" />
            <tag name="sonata.admin.extension" target="app.admin.adherent" />
        </service>

        <service id="app.admin.enabled_filter_configuration_extension" class="AppBundle\Admin\Extension\DoctrineEnabledFilterConfigurationAdminExtension">
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_consultation" />
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_category" />
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_need" />
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_theme" />
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_guideline" />
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_question" />
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_idea" />
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_thread" />
            <tag name="sonata.admin.extension" target="app.admin.report" />
        </service>

        <service id="app.admin.softdeleteable_filter_configuration_extension" class="AppBundle\Admin\Extension\DoctrineSoftdeleteableFilterConfigurationAdminExtension">
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_idea" />
            <tag name="sonata.admin.extension" target="app.admin.ideas_workshop_thread" />
            <tag name="sonata.admin.extension" target="app.admin.report" />
        </service>

        <!--
       ######################################################
       # Politique
       ######################################################
       -->

        <service id="app.admin.application_request_technical_skill" class="AppBundle\Admin\ApplicationRequest\TechnicalSkillAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Muni » Compétences techniques" group="Politique" />

            <argument />
            <argument>AppBundle\Entity\ApplicationRequest\TechnicalSkill</argument>
            <argument />
        </service>

        <service id="app.admin.application_request_theme" class="AppBundle\Admin\ApplicationRequest\ThemeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Muni » Thématiques" group="Politique" />

            <argument />
            <argument>AppBundle\Entity\ApplicationRequest\Theme</argument>
            <argument />
        </service>

        <!-- RunningMate manager-->
        <service id="app.admin.application_request_running_mate_request" class="AppBundle\Admin\ApplicationRequest\RunningMateRequestAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Muni » Candidatures colistiers" group="Politique" />

            <argument />
            <argument>AppBundle\Entity\ApplicationRequest\RunningMateRequest</argument>
            <argument />
            <call method="setStorage">
                <argument type="service" id="app.storage" />
            </call>
        </service>

        <service id="app.admin.application_request_volunteer_request" class="AppBundle\Admin\ApplicationRequest\VolunteerRequestAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Muni » Candidatures bénévoles" group="Politique" />

            <argument />
            <argument>AppBundle\Entity\ApplicationRequest\VolunteerRequest</argument>
            <argument />
        </service>

        <service id="app.admin.application_request_tag" class="AppBundle\Admin\ApplicationRequest\TagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Muni » Tags de candidature" group="Politique" />

            <argument />
            <argument>AppBundle\Entity\ApplicationRequest\ApplicationRequestTag</argument>
            <argument />
        </service>

        <service id="app.admin.republican_silence" class="AppBundle\Admin\RepublicanSilenceAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Silence républicain" group="Politique"/>

            <argument />
            <argument>AppBundle\Entity\RepublicanSilence</argument>
            <argument />
            <call method="setRepublicanSilenceManager">
                <argument type="service" id="AppBundle\RepublicanSilence\RepublicanSilenceManager"/>
            </call>
        </service>

        <service id="app.admin.legislative_candidate" class="AppBundle\Admin\LegislativeCandidateAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Élus" group="Politique" />

            <argument />
            <argument>AppBundle\Entity\LegislativeCandidate</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="app.storage" />
            </call>

            <call method="setGlide">
                <argument type="service" id="app.glide" />
            </call>
        </service>

        <service id="app.admin.elected.representatives.register" class="AppBundle\Admin\ElectedRepresentativesRegisterAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Registre des élus" group="Politique" />

            <argument />
            <argument>AppBundle\Entity\ElectedRepresentativesRegister</argument>
            <argument />
        </service>

        <service id="app.admin.election" class="AppBundle\Admin\ElectionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Élections" group="Politique" />

            <argument />
            <argument>AppBundle\Entity\Election</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Archives
        ######################################################
        -->

        <service id="app.admin.ton_macron_choice" class="AppBundle\Admin\TonMacronChoiceAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Ton Macron » Choix" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\TonMacronChoice</argument>
            <argument />
        </service>

        <service id="app.admin.ton_macron_friend_invitation" class="AppBundle\Admin\TonMacronFriendInvitationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Ton Macron » Invitations" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\TonMacronFriendInvitation</argument>
            <argument />
        </service>

        <service id="app.admin.my_europe_choice" class="AppBundle\Admin\MyEuropeChoiceAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Mon Europe » Choix" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\MyEuropeChoice</argument>
            <argument />
        </service>

        <service id="app.admin.my_europe_invitation" class="AppBundle\Admin\MyEuropeInvitationAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Mon Europe » Invitations" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\MyEuropeInvitation</argument>
            <argument />
        </service>


        <service id="app.admin.article_category" class="AppBundle\Admin\ArticleCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Contenu » Catégories" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\ArticleCategory</argument>
            <argument />
        </service>

        <service id="app.admin.custom_search_result" class="AppBundle\Admin\CustomSearchResultAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Contenu » Résultats Algolia" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\CustomSearchResult</argument>
            <argument />
        </service>

        <service id="app.admin.facebook_video" class="AppBundle\Admin\FacebookVideoAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Contenu » Vidéos Facebook" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\FacebookVideo</argument>
            <argument />
        </service>

        <service id="app.admin.social_share_category" class="AppBundle\Admin\SocialShareCategoryAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Je Partage » Catégories" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\SocialShareCategory</argument>
            <argument />
        </service>

        <service id="app.admin.social_share" class="AppBundle\Admin\SocialShareAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Je Partage » Contenus" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\SocialShare</argument>
            <argument />

            <call method="setStorage">
                <argument type="service" id="app.storage" />
            </call>

            <call method="setGlide">
                <argument type="service" id="app.glide" />
            </call>

            <call method="setAssetRuntime">
                <argument type="service" id="AppBundle\Twig\AssetRuntime" />
            </call>
        </service>

        <service id="app.admin.order_section" class="AppBundle\Admin\OrderSectionAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Explications » Sections" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\OrderSection</argument>
            <argument />
        </service>

        <service id="app.admin.order_article" class="AppBundle\Admin\OrderArticleAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Explications » Articles" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\OrderArticle</argument>
            <argument />
        </service>

        <service id="app.admin.facebook_profile" class="AppBundle\Admin\FacebookProfileAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Profils Facebook" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\FacebookProfile</argument>
            <argument />
        </service>

        <service id="app.admin.board_member_roles" class="AppBundle\Admin\BoardMemberRoleAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Rôles des membres du Conseil" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\BoardMember\Role</argument>
            <argument />
        </service>

        <service id="app.admin.legislative_district_zone" class="AppBundle\Admin\LegislativeDistrictZoneAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Zones géographiques" group="Archives" />
            <argument />
            <argument>AppBundle\Entity\LegislativeDistrictZone</argument>
            <argument />
        </service>

        <service id="app.admin.skill" class="AppBundle\Admin\SkillAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Gestion des compétences" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\Skill</argument>
            <argument />
        </service>

        <service id="app.admin.referent_tag" class="AppBundle\Admin\ReferentTagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tags réferent" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\ReferentTag</argument>
            <argument />
        </service>

        <service id="app.admin.proposal_theme" class="AppBundle\Admin\ProposalThemeAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Programme » Thèmes" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\ProposalTheme</argument>
            <argument />
        </service>

        <service id="app.admin.proposal" class="AppBundle\Admin\ProposalAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Programme » Propositions" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\Proposal</argument>
            <argument />
        </service>

        <service id="app.admin.je_marche" class="AppBundle\Admin\JeMarcheReportAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Je Marche" group="Archives" />

            <argument />
            <argument>AppBundle\Entity\JeMarcheReport</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # ProgrammaticFoundation
        ######################################################
        -->

        <service id="app.admin.approach" class="AppBundle\Admin\ProgrammaticFoundation\ApproachAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Grand axes" group="Socle programmatique" />

            <argument />
            <argument>AppBundle\Entity\ProgrammaticFoundation\Approach</argument>
            <argument>PixSortableBehaviorBundle:SortableAdmin</argument>
        </service>

        <service id="app.admin.approach_sub" class="AppBundle\Admin\ProgrammaticFoundation\SubApproachAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Axes secondaires" group="Socle programmatique" />

            <argument />
            <argument>AppBundle\Entity\ProgrammaticFoundation\SubApproach</argument>
            <argument>PixSortableBehaviorBundle:SortableAdmin</argument>
        </service>

        <service id="app.admin.approach_measure" class="AppBundle\Admin\ProgrammaticFoundation\MeasureAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Mesures" group="Socle programmatique" />

            <argument />
            <argument>AppBundle\Entity\ProgrammaticFoundation\Measure</argument>
            <argument>PixSortableBehaviorBundle:SortableAdmin</argument>
        </service>

        <service id="app.admin.approach_project" class="AppBundle\Admin\ProgrammaticFoundation\ProjectAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Projets" group="Socle programmatique" />

            <argument />
            <argument>AppBundle\Entity\ProgrammaticFoundation\Project</argument>
            <argument />
        </service>

        <service id="app.admin.programmatic_foundation_tag" class="AppBundle\Admin\ProgrammaticFoundation\TagAdmin">
            <tag name="sonata.admin" manager-type="orm" label="Tags" group="Socle programmatique" />

            <argument />
            <argument>AppBundle\Entity\ProgrammaticFoundation\Tag</argument>
            <argument />
        </service>

        <!--
        ######################################################
        # Menu
        ######################################################
        -->

        <service id="AppBundle\Admin\EventListener\AdminCommitteeMergeMenuListener">
            <tag name="kernel.event_listener" event="sonata.admin.event.configure.menu.sidebar" method="addMenuItems" />
        </service>

    </services>
</container>
